<?xml version="1.0"?>
<!DOCTYPE module PUBLIC "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN" "https://checkstyle.org/dtds/configuration_1_3.dtd">
<module name="Checker">
	<!-- Intentionally no checks defined. This file exists so Checkstyle runs but enforces no rules. -->
	<!-- Ban use of 'throw' and 'throws'; enforce using Result<T,E> instead -->
	<module name="RegexpSingleline">
		<property name="format" value="\bthrow\b" />
		<property name="message" value="Usage of 'throw' is banned; use Result&lt;T,E&gt; instead." />
	</module>
	<module name="RegexpSingleline">
		<property name="format" value="\bthrows\b" />
		<property name="message" value="Usage of 'throws' is banned; use Result&lt;T,E&gt; instead." />
	</module>

	<!-- Ban usage of java.util.regex: both imports and fully-qualified references -->
	<module name="TreeWalker">
		<module name="IllegalImport">
			<property name="illegalPkgs" value="java.util.regex" />
			<property name="illegalClasses" value="" />
			<property name="severity" value="error" />
		</module>

		<!-- Enforce cyclomatic complexity maximum per method -->
		<module name="CyclomaticComplexity">
			<property name="max" value="15" />
			<property name="severity" value="error" />
		</module>
	</module>

	<!-- Catch fully-qualified references like java.util.regex.Pattern or Matcher in code -->
	<module name="RegexpSingleline">
		<property name="format" value="\bjava\.util\.regex\.[A-Za-z_][A-Za-z0-9_]*\b" />
		<property name="message"
			value="Fully-qualified use of java.util.regex is banned; import of that package is forbidden." />
	</module>

	<!-- Ban literal 'null' usage; recommend java.util.Optional instead -->
	<module name="RegexpSingleline">
		<property name="format" value="\bnull\b" />
		<property name="message" value="Usage of the literal 'null' is banned; prefer java.util.Optional instead." />
		<property name="severity" value="error" />
	</module>
</module>